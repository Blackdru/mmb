{"clientVersion":"6.13.0","code":"P2003","level":"error","message":"Failed to send notification: \n\u001b[31mInvalid \u001b[1m`prisma.pushNotification.create()`\u001b[22m invocation:\u001b[39m\n\n\nForeign key constraint violated on the constraint: `push_notifications_sender_id_fkey`","meta":{"constraint":"push_notifications_sender_id_fkey","modelName":"PushNotification"},"name":"PrismaClientKnownRequestError","service":"budzee-gaming","stack":"PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`prisma.pushNotification.create()`\u001b[22m invocation:\u001b[39m\n\n\nForeign key constraint violated on the constraint: `push_notifications_sender_id_fkey`\n    at ri.handleRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at ri.handleAndLogRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at ri.request (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at async l (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:9812)\n    at async PushNotificationService.sendNotification (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\pushNotificationService.js:83:28)\n    at async C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\routes\\pushNotifications.js:106:20","timestamp":"2025-08-08 19:45:32"}
{"clientVersion":"6.13.0","code":"P2003","level":"error","message":"Send notification error: \n\u001b[31mInvalid \u001b[1m`prisma.pushNotification.create()`\u001b[22m invocation:\u001b[39m\n\n\nForeign key constraint violated on the constraint: `push_notifications_sender_id_fkey`","meta":{"constraint":"push_notifications_sender_id_fkey","modelName":"PushNotification"},"name":"PrismaClientKnownRequestError","service":"budzee-gaming","stack":"PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`prisma.pushNotification.create()`\u001b[22m invocation:\u001b[39m\n\n\nForeign key constraint violated on the constraint: `push_notifications_sender_id_fkey`\n    at ri.handleRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at ri.handleAndLogRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at ri.request (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at async l (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:9812)\n    at async PushNotificationService.sendNotification (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\pushNotificationService.js:83:28)\n    at async C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\routes\\pushNotifications.js:106:20","timestamp":"2025-08-08 19:45:32"}
{"clientVersion":"6.13.0","level":"error","message":"Analytics fetch error: \n\u001b[31mInvalid \u001b[1m`prisma.game.aggregate()`\u001b[22m invocation:\u001b[39m\n\n{\n  select: {\n    _avg: {\n      select: {\n\u001b[32m?\u001b[39m       \u001b[32mmaxPlayers\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m,\n\u001b[32m?\u001b[39m       \u001b[32mentryFee\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m,\n\u001b[32m?\u001b[39m       \u001b[32mprizePool\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m,\n\u001b[32m?\u001b[39m       \u001b[32mcurrentTurn\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m\n      }\n    }\n  },\n  where: {\n    status: \"FINISHED\",\n    finishedAt: {\n      gte: new Date(\"2025-07-08T14:16:09.182Z\")\n    }\n  }\n}\n\nThe \u001b[31m`select`\u001b[39m statement for type \u001b[1mGameAvgAggregateOutputType\u001b[22m must not be empty. Available options are listed in \u001b[32mgreen\u001b[39m.","name":"PrismaClientValidationError","service":"budzee-gaming","stack":"PrismaClientValidationError: \n\u001b[31mInvalid \u001b[1m`prisma.game.aggregate()`\u001b[22m invocation:\u001b[39m\n\n{\n  select: {\n    _avg: {\n      select: {\n\u001b[32m?\u001b[39m       \u001b[32mmaxPlayers\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m,\n\u001b[32m?\u001b[39m       \u001b[32mentryFee\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m,\n\u001b[32m?\u001b[39m       \u001b[32mprizePool\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m,\n\u001b[32m?\u001b[39m       \u001b[32mcurrentTurn\u001b[39m\u001b[32m?\u001b[39m\u001b[32m: \u001b[39m\u001b[32mtrue\u001b[39m\n      }\n    }\n  },\n  where: {\n    status: \"FINISHED\",\n    finishedAt: {\n      gte: new Date(\"2025-07-08T14:16:09.182Z\")\n    }\n  }\n}\n\nThe \u001b[31m`select`\u001b[39m statement for type \u001b[1mGameAvgAggregateOutputType\u001b[22m must not be empty. Available options are listed in \u001b[32mgreen\u001b[39m.\n    at _n (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at ri.handleRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:7102)\n    at ri.handleAndLogRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at ri.request (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at async l (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:9812)\n    at async Promise.all (index 1)\n    at async Promise.all (index 2)\n    at async C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\routes\\admin.js:1330:9","timestamp":"2025-08-08 19:46:09"}
{"level":"error","message":"Failed to send notification: No valid device tokens found","service":"budzee-gaming","stack":"Error: No valid device tokens found\n    at PushNotificationService.sendNotification (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\pushNotificationService.js:111:15)\n    at async C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\routes\\pushNotifications.js:106:20","timestamp":"2025-08-08 19:53:24"}
{"level":"error","message":"Send notification error: No valid device tokens found","service":"budzee-gaming","stack":"Error: No valid device tokens found\n    at PushNotificationService.sendNotification (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\pushNotificationService.js:111:15)\n    at async C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\routes\\pushNotifications.js:106:20","timestamp":"2025-08-08 19:53:24"}
{"level":"error","message":"Create game error: Insufficient players: needed 2, found 1","service":"budzee-gaming","stack":"Error: Insufficient players: needed 2, found 1\n    at prisma.$transaction.timeout (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:831:15)\n    at async Proxy._transactionWithCallback (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:8173)\n    at async FastMatchmakingService.createGameTransaction (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:817:12)\n    at async FastMatchmakingService.createGameFast (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:339:40)\n    at async FastMatchmakingService.deployBotsForWaitingUsers (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:317:22)\n    at async FastMatchmakingService.deployBotsAfter15Seconds (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:272:14)\n    at async FastMatchmakingService.processMatchmaking (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:198:26)","timestamp":"2025-08-08 20:13:38"}
{"level":"error","message":"Create game error: Insufficient players: needed 2, found 1","service":"budzee-gaming","stack":"Error: Insufficient players: needed 2, found 1\n    at prisma.$transaction.timeout (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:831:15)\n    at async Proxy._transactionWithCallback (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:8173)\n    at async FastMatchmakingService.createGameTransaction (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:817:12)\n    at async FastMatchmakingService.createGameFast (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:339:40)\n    at async FastMatchmakingService.deployBotsForWaitingUsers (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:317:22)\n    at async FastMatchmakingService.deployBotsAfter15Seconds (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:272:14)\n    at async FastMatchmakingService.processMatchmaking (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:198:26)","timestamp":"2025-08-08 20:28:19"}
{"clientVersion":"6.13.0","code":"P1001","level":"error","message":"Dashboard stats error: \n\u001b[31mInvalid \u001b[1m`prisma.transaction.aggregate()`\u001b[22m invocation:\u001b[39m\n\n\nCan't reach database server at `ep-green-shape-a18kuokp-pooler.ap-southeast-1.aws.neon.tech:5432`\n\nPlease make sure your database server is running at `ep-green-shape-a18kuokp-pooler.ap-southeast-1.aws.neon.tech:5432`.","meta":{"database_location":"ep-green-shape-a18kuokp-pooler.ap-southeast-1.aws.neon.tech:5432","modelName":"Transaction"},"name":"PrismaClientKnownRequestError","service":"budzee-gaming","stack":"PrismaClientKnownRequestError: \n\u001b[31mInvalid \u001b[1m`prisma.transaction.aggregate()`\u001b[22m invocation:\u001b[39m\n\n\nCan't reach database server at `ep-green-shape-a18kuokp-pooler.ap-southeast-1.aws.neon.tech:5432`\n\nPlease make sure your database server is running at `ep-green-shape-a18kuokp-pooler.ap-southeast-1.aws.neon.tech:5432`.\n    at ri.handleRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:7459)\n    at ri.handleAndLogRequestError (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6784)\n    at ri.request (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:121:6491)\n    at async l (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:9812)\n    at async Promise.all (index 6)\n    at async C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\routes\\admin.js:40:9","timestamp":"2025-08-08 20:33:51"}
{"level":"error","message":"Create game error: Insufficient players: needed 2, found 1","service":"budzee-gaming","stack":"Error: Insufficient players: needed 2, found 1\n    at prisma.$transaction.timeout (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:831:15)\n    at async Proxy._transactionWithCallback (C:\\Users\\HOME\\Desktop\\test\\mmb\\node_modules\\@prisma\\client\\runtime\\library.js:130:8173)\n    at async FastMatchmakingService.createGameTransaction (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:817:12)\n    at async FastMatchmakingService.createGameFast (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:339:40)\n    at async FastMatchmakingService.deployBotsForWaitingUsers (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:317:22)\n    at async FastMatchmakingService.deployBotsAfter15Seconds (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:272:14)\n    at async FastMatchmakingService.processMatchmaking (C:\\Users\\HOME\\Desktop\\test\\mmb\\src\\services\\FastMatchmaking.js:198:26)","timestamp":"2025-08-08 20:47:38"}
